@layer components {
  .aurora-bg {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: -1;
  }

  .aurora-layer {
    position: absolute;
    inset: 0;
    background: radial-gradient(
      800px circle at var(--x, 50%) var(--y, 50%),
      hsl(var(--primary) / 0.35),
      transparent 60%
    );
    filter: blur(120px);
    transition: background-position 0.2s ease-out;
    will-change: background-position;
  }

  .floating-blobs {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: -1;
  }

  .blob {
    position: absolute;
    width: 300px;
    height: 300px;
    background: radial-gradient(
      circle,
      hsl(var(--secondary) / 0.4),
      transparent 70%
    );
    filter: blur(60px);
    animation: float 16s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0) translateX(0);
    }
    50% {
      transform: translateY(-30px) translateX(20px);
    }
  }

  .grid-bg {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(
        hsl(var(--foreground) / 0.04) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        hsl(var(--foreground) / 0.04) 1px,
        transparent 1px
      );
    background-size: 42px 42px;
    animation: pan-grid 22s linear infinite;
    opacity: 0.6;
    z-index: -1;
    will-change: background-position;
  }

  @keyframes pan-grid {
    from {
      background-position: 0 0;
    }
    to {
      background-position: 180px 180px;
    }
  }

  .cyber-grid-overlay {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(
        120deg,
        transparent 0%,
        hsla(var(--terminal-green), 0.08) 8%,
        transparent 18%
      ),
      linear-gradient(
        60deg,
        transparent 0%,
        hsla(var(--terminal-green), 0.08) 12%,
        transparent 22%
      ),
      linear-gradient(
        hsla(var(--foreground), 0.06) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        hsla(var(--foreground), 0.06) 1px,
        transparent 1px
      );
    background-size: 220px 220px, 200px 200px, 42px 42px, 42px 42px;
    opacity: 0.65;
    mix-blend-mode: screen;
    animation: drift-grid 26s linear infinite;
    will-change: transform;
    pointer-events: none;
    z-index: 0;
  }

  @keyframes drift-grid {
    from {
      transform: translate3d(0, 0, 0);
    }
    to {
      transform: translate3d(-80px, -140px, 0);
    }
  }

  .matrix-canvas {
    filter: drop-shadow(0 0 8px hsla(var(--terminal-green), 0.2));
    will-change: transform;
  }

  .grain-overlay {
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at 20% 20%, hsla(var(--terminal-green), 0.08), transparent 32%),
      radial-gradient(circle at 80% 0%, hsla(var(--terminal-blue), 0.06), transparent 32%),
      radial-gradient(circle at 0% 80%, hsla(var(--terminal-green), 0.06), transparent 38%),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.14'/%3E%3C/svg%3E");
    opacity: 0.6;
    pointer-events: none;
    mix-blend-mode: screen;
    z-index: 0;
  }

  .glitch-text {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
    padding: 0.4rem 0.6rem;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    font-weight: 800;
    color: hsl(var(--foreground));
    text-shadow: 0 0 14px hsla(var(--glitch-color, var(--terminal-green)), 0.6);
  }

  .glitch-text .glitch-layer,
  .glitch-text .glitch-base {
    position: relative;
    font-size: inherit;
    line-height: 1;
  }

  .glitch-text::before,
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    inset: 0;
    color: hsl(var(--foreground));
    mix-blend-mode: screen;
    opacity: 0.65;
    clip-path: polygon(0 2%, 100% 0, 100% 48%, 0 52%);
    animation: glitch-slice 2s infinite ease-in-out alternate;
  }

  .glitch-text::before {
    text-shadow: -2px -2px 10px hsla(var(--glitch-color, var(--terminal-green)), 0.9);
  }

  .glitch-text::after {
    text-shadow: 2px 2px 12px hsla(var(--glitch-color, var(--terminal-green)), 0.6);
    animation-delay: 120ms;
  }

  .glitch-pulse {
    animation: glitch-pulse 2.8s ease-in-out infinite;
  }

  @keyframes glitch-slice {
    0% {
      clip-path: polygon(0 10%, 100% 6%, 100% 18%, 0 22%);
      transform: translate3d(0, 0, 0);
    }
    20% {
      clip-path: polygon(0 60%, 100% 56%, 100% 78%, 0 82%);
      transform: translate3d(-1px, 1px, 0);
    }
    40% {
      clip-path: polygon(0 30%, 100% 28%, 100% 42%, 0 46%);
      transform: translate3d(1px, -1px, 0);
    }
    60% {
      clip-path: polygon(0 70%, 100% 68%, 100% 90%, 0 94%);
      transform: translate3d(-1px, 0, 0);
    }
    80% {
      clip-path: polygon(0 18%, 100% 16%, 100% 26%, 0 30%);
      transform: translate3d(2px, 0, 0);
    }
    100% {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      transform: translate3d(0, 0, 0);
    }
  }

  @keyframes glitch-pulse {
    0%,
    100% {
      filter: drop-shadow(0 0 12px hsla(var(--terminal-red), 0.35)) saturate(1.1);
      transform: translateZ(0);
    }
    30% {
      filter: drop-shadow(0 0 16px hsla(var(--terminal-red), 0.55)) saturate(1.25);
      transform: translate3d(1px, -1px, 0) scale(1.01);
    }
    60% {
      filter: drop-shadow(0 0 18px hsla(var(--terminal-red), 0.7)) saturate(1.3);
      transform: translate3d(-1px, 1px, 0) scale(0.99);
    }
  }

  .typing-console {
    display: grid;
    gap: 0.35rem;
    font-family: "DM Mono", "SFMono-Regular", "Consolas", monospace;
    color: hsl(var(--muted-foreground));
  }

  .console-line {
    display: flex;
    align-items: center;
    gap: 0.55rem;
    padding: 0.3rem 0.6rem;
    background: hsla(var(--terminal-bg), 0.35);
    border-radius: 10px;
    border: 1px solid hsla(var(--border), 0.35);
    box-shadow: inset 0 0 0 1px hsla(var(--terminal-green), 0.06);
    color: hsl(var(--foreground));
  }

  .console-prefix {
    color: hsl(var(--terminal-green));
    text-shadow: 0 0 6px hsla(var(--terminal-green), 0.6);
  }

  .console-cursor {
    display: inline-block;
    margin-left: 6px;
    width: 1ch;
    color: hsl(var(--terminal-green));
    animation: blink 1s step-end infinite;
  }

  .console-line.active {
    border-color: hsla(var(--terminal-green), 0.6);
    box-shadow: inset 0 0 0 1px hsla(var(--terminal-green), 0.2), 0 0 18px hsla(var(--terminal-green), 0.18);
  }

  @keyframes blink {
    0%,
    50% {
      opacity: 1;
    }
    50.01%,
    100% {
      opacity: 0;
    }
  }

  .terminal-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.55rem;
    padding: 0.85rem 1.35rem;
    border-radius: 12px;
    background: linear-gradient(120deg, hsla(var(--terminal-green), 0.9), hsla(var(--terminal-blue), 0.8));
    color: hsl(var(--foreground));
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 700;
    border: 1px solid hsla(var(--terminal-green), 0.7);
    box-shadow: 0 10px 35px hsla(var(--terminal-green), 0.25), 0 0 18px hsla(var(--terminal-blue), 0.25);
    transition: transform 200ms ease, box-shadow 200ms ease;
    will-change: transform;
  }

  .terminal-btn:hover {
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 12px 40px hsla(var(--terminal-green), 0.35), 0 0 20px hsla(var(--terminal-blue), 0.28);
  }

  .terminal-btn:active {
    transform: translateY(0);
  }

  .laser-scan {
    position: relative;
    height: 6px;
    border-radius: 999px;
    overflow: hidden;
    background: linear-gradient(90deg, transparent, hsla(var(--terminal-red), 0.35), transparent);
  }

  .laser-scan::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, hsla(var(--terminal-red), 0.95), transparent);
    animation: laser-move 2.8s ease-in-out infinite;
  }

  @keyframes laser-move {
    0% {
      transform: translateX(-100%);
    }
    50% {
      transform: translateX(10%);
    }
    100% {
      transform: translateX(120%);
    }
  }

  .fingerprint-scan {
    position: relative;
    width: 160px;
    height: 160px;
    border-radius: 50%;
    border: 2px solid hsla(var(--terminal-amber), 0.6);
    overflow: hidden;
    background:
      radial-gradient(circle at 50% 45%, hsla(var(--terminal-amber), 0.12), transparent 50%),
      repeating-radial-gradient(circle at 50% 50%, hsla(var(--terminal-amber), 0.35) 0 2px, transparent 2px 6px);
    box-shadow: 0 0 24px hsla(var(--terminal-amber), 0.25);
  }

  .fingerprint-scan::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    height: 24px;
    background: linear-gradient(180deg, hsla(var(--terminal-amber), 0) 0%, hsla(var(--terminal-amber), 0.6) 50%, hsla(var(--terminal-amber), 0) 100%);
    animation: scan-down 2.6s ease-in-out infinite;
    filter: drop-shadow(0 0 12px hsla(var(--terminal-amber), 0.75));
  }

  @keyframes scan-down {
    0% {
      transform: translateY(-20%);
    }
    50% {
      transform: translateY(120%);
    }
    100% {
      transform: translateY(-20%);
    }
  }

  .ascii-gear {
    font-family: "DM Mono", "SFMono-Regular", "Consolas", monospace;
    letter-spacing: 0.08em;
    color: hsl(var(--terminal-blue));
    text-shadow: 0 0 10px hsla(var(--terminal-blue), 0.6);
    animation: spin-gear 6s linear infinite;
    display: inline-block;
  }

  @keyframes spin-gear {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .offline-indicator {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.35rem 0.8rem;
    border-radius: 999px;
    background: hsla(var(--terminal-amber), 0.18);
    color: hsl(var(--terminal-amber));
    border: 1px solid hsla(var(--terminal-amber), 0.5);
  }

  .status-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0.75rem;
    border-radius: 999px;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    background: hsla(var(--terminal-green), 0.14);
    color: hsl(var(--terminal-green));
    border: 1px solid hsla(var(--terminal-green), 0.5);
  }
}
